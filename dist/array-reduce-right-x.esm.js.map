{"version":3,"sources":["../src/array-reduce-right-x.js"],"names":[],"mappings":"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","file":"array-reduce-right-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport splitIfBoxedBug from 'split-if-boxed-bug-x';\nimport toLength from 'to-length-x';\nimport toObject from 'to-object-x';\nimport assertIsFunction from 'assert-is-function-x';\nimport toBoolean from 'to-boolean-x';\nimport requireObjectCoercible from 'require-object-coercible-x';\nimport methodize from 'simple-methodize-x';\n\nconst rr = [].reduceRight;\nconst nativeReduceR = typeof rr === 'function' && methodize(rr);\n\nconst test1 = function test1() {\n  return attempt(function attemptee() {\n    return nativeReduceR([], function iteratee(acc) {\n      return acc;\n    });\n  }).threw;\n};\n\nconst test2 = function test2() {\n  const res = attempt(function attemptee() {\n    return nativeReduceR(\n      toObject('abc'),\n      function iteratee(acc, c) {\n        return acc + c;\n      },\n      'x',\n    );\n  });\n\n  return res.threw === false && res.value === 'xcba';\n};\n\nconst test3 = function test3() {\n  const res = attempt(function attemptee() {\n    const args = (function getArgs() {\n      /* eslint-disable-next-line prefer-rest-params */\n      return arguments;\n    })(1, 2, 3);\n\n    return nativeReduceR(\n      args,\n      function iteratee(acc, arg) {\n        return acc + arg;\n      },\n      1,\n    );\n  });\n\n  return res.threw === false && res.value === 7;\n};\n\nconst test4 = function test4() {\n  const res = attempt(function attemptee() {\n    return nativeReduceR(\n      {0: 1, 1: 2, 3: 3, 4: 4, length: 4},\n      function iteratee(acc, arg) {\n        return acc + arg;\n      },\n      2,\n    );\n  });\n\n  return res.threw === false && res.value === 8;\n};\n\nconst doc = typeof document !== 'undefined' && document;\n\nconst iteratee5 = function iteratee5(acc, node) {\n  acc[acc.length] = node;\n\n  return acc;\n};\n\nconst test5 = function test5() {\n  if (doc) {\n    const fragment = doc.createDocumentFragment();\n    const div = doc.createElement('div');\n    fragment.appendChild(div);\n\n    const res = attempt(function attemptee() {\n      return nativeReduceR(fragment.childNodes, iteratee5, []);\n    });\n\n    return res.threw === false && res.value.length === 1 && res.value[0] === div;\n  }\n\n  return true;\n};\n\nconst test6 = function test6() {\n  const res = attempt(function attemptee() {\n    return nativeReduceR('ab', function iteratee() {\n      /* eslint-disable-next-line prefer-rest-params */\n      return arguments[3];\n    });\n  });\n\n  return res.threw === false && typeof res.value === 'object';\n};\n\n// ES5 15.4.4.22\n// http://es5.github.com/#x15.4.4.22\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduceRight\nconst isWorking = toBoolean(nativeReduceR) && test1() && test2() && test3() && test4() && test5() && test6();\n\nconst patchedReduceRight = function reduceRight(array, callBack /* , initialValue */) {\n  requireObjectCoercible(array);\n  assertIsFunction(callBack);\n\n  /* eslint-disable-next-line prefer-rest-params */\n  return arguments.length > 2 ? nativeReduceR(array, callBack, arguments[2]) : nativeReduceR(array, callBack);\n};\n\nexport const implementation = function reduceRight(array, callBack /* , initialValue */) {\n  const object = toObject(array);\n  // If no callback function or if callback is not a callable function\n  assertIsFunction(callBack);\n  const iterable = splitIfBoxedBug(object);\n  const length = toLength(iterable.length);\n  const argsLength = arguments.length;\n\n  // no value to return if no initial value, empty array\n  if (length === 0 && argsLength < 3) {\n    throw new TypeError('Reduce of empty array with no initial value');\n  }\n\n  let result;\n  let i = length - 1;\n\n  if (argsLength > 2) {\n    /* eslint-disable-next-line prefer-rest-params,prefer-destructuring */\n    result = arguments[2];\n  } else {\n    do {\n      if (i in iterable) {\n        result = iterable[i];\n        i -= 1;\n        break;\n      }\n\n      // if array contains no values, no initial value to return\n      i -= 1;\n\n      if (i < 0) {\n        throw new TypeError('Reduce of empty array with no initial value');\n      }\n    } while (true); /* eslint-disable-line no-constant-condition */\n  }\n\n  while (i >= 0) {\n    if (i in iterable) {\n      result = callBack(result, iterable[i], i, object);\n    }\n\n    i -= 1;\n  }\n\n  return result;\n};\n\n/**\n * This method applies a function against an accumulator and each value of the\n * array (from right-to-left) to reduce it to a single value..\n *\n * @param {Array} array - The array to iterate over.\n * @param {Function} callBack - Function to execute for each element.\n * @param {*} [initialValue] - Value to use as the first argument to the first\n *  call of the callback. If no initial value is supplied, the first element in\n *  the array will be used. Calling reduceRight on an empty array without an initial\n *  value is an error.\n * @throws {TypeError} If array is null or undefined.\n * @throws {TypeError} If callBack is not a function.\n * @throws {TypeError} If called on an empty array without an initial value.\n * @returns {*} The value that results from the reduction.\n */\nconst $reduceRight = isWorking ? patchedReduceRight : implementation;\n\nexport default $reduceRight;\n"]}